(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{1527:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logout",function(){return r(8125)}])},5920:function(n,e,r){"use strict";r.d(e,{Z:function(){return h}});var t=r(4051),o=r.n(t),u=r(2804),a=r(4255);function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function i(n,e,r,t,o,u,a){try{var c=n[u](a),i=c.value}catch(l){return void r(l)}c.done?e(i):Promise.resolve(i).then(t,o)}function l(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var u=n.apply(e,r);function a(n){i(u,t,o,a,c,"next",n)}function c(n){i(u,t,o,a,c,"throw",n)}a(void 0)}))}}function f(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function s(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){f(n,e,r[e])}))}return n}function p(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,u=[],a=!0,c=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(u.push(t.value),!e||u.length!==e);a=!0);}catch(i){c=!0,o=i}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return u}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return c(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=(0,u.cn)({key:"common-auth",default:{user:null,token:null}});function h(){var n=(0,a.Z)().request,e=p((0,u.FV)(v),2),r=e[0],t=e[1];function c(){return(c=l(o().mark((function n(){var e,r,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=1,r=JSON.parse(window.localStorage.getItem("token")||"{}"),e=r.token||null,n.next=10;break;case 6:return n.prev=6,n.t0=n.catch(1),window.localStorage.removeItem("token"),n.abrupt("return",null);case 10:if(e&&e.accessToken){n.next=12;break}return n.abrupt("return",null);case 12:return n.prev=12,t={name:"John Wick",email:"johnwick@example.com"},n.abrupt("return",{user:s({},t),token:e});case 17:n.prev=17,n.t1=n.catch(12),window.localStorage.removeItem("token");case 20:case"end":return n.stop()}}),n,null,[[1,6],[12,17]])})))).apply(this,arguments)}var i=function(){var e=l(o().mark((function e(r,t){var u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({url:"/login",method:"POST",params:{email:r,password:t}});case 2:u={accessToken:"some secure token",tokenType:"Bearer",client:"eeffgghh",expiry:"9999999999",uid:"1234-1234-1234-1234"},window.localStorage.setItem("token",JSON.stringify({token:u}));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),f=function(){var n=l(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.localStorage.removeItem("token"),t((function(n){return s({},n,{user:null,token:null})}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{user:r.user,getLoginUser:function(){return c.apply(this,arguments)},login:i,logout:f}}},8125:function(n,e,r){"use strict";r.r(e);var t=r(5893),o=r(7294),u=r(5920);e.default=function(){var n=(0,u.Z)().logout;return(0,o.useEffect)((function(){n().then((function(){return location.href="/login"}))})),(0,t.jsx)("p",{children:"logging out..."})}}},function(n){n.O(0,[774,888,179],(function(){return e=1527,n(n.s=e);var e}));var e=n.O();_N_E=e}]);