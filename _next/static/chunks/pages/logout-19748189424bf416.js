(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{4803:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logout",function(){return t(249)}])},8470:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(8520),o=t.n(r),u=t(2804),c=t(9324);function a(e,n,t,r,o,u,c){try{var a=e[u](c),i=a.value}catch(l){return void t(l)}a.done?n(i):Promise.resolve(i).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)}))}}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!n||t.length!==n);r=!0);}catch(i){o=!0,u=i}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=(0,u.cn)({key:"common-auth",default:{user:null,token:null}});function v(){var e=(0,c.Z)().request,n=f((0,u.FV)(p),2),t=n[0],r=n[1];function a(){return(a=i(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=1,t=JSON.parse(window.localStorage.getItem("token")||"{}"),n=t.token||null,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),window.localStorage.removeItem("token"),e.abrupt("return",null);case 10:if(n&&n.accessToken){e.next=12;break}return e.abrupt("return",null);case 12:return e.prev=12,r={name:"John Wick",email:"johnwick@example.com"},e.abrupt("return",{user:s({},r),token:n});case 17:e.prev=17,e.t1=e.catch(12),window.localStorage.removeItem("token");case 20:case"end":return e.stop()}}),e,null,[[1,6],[12,17]])})))).apply(this,arguments)}var l=i(o().mark((function n(t,r){var u,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({url:"/login",method:"POST",params:{email:t,password:r}});case 2:u=n.sent,console.log(u),c={accessToken:"some secure token",tokenType:"Bearer",client:"eeffgghh",expiry:"9999999999",uid:"1234-1234-1234-1234"},window.localStorage.setItem("token",JSON.stringify({token:c}));case 6:case"end":return n.stop()}}),n)}))),v=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("token"),r((function(e){return s({},e,{user:null,token:null})}));case 2:case"end":return e.stop()}}),e)})));return{user:t.user,getLoginUser:function(){return a.apply(this,arguments)},login:l,logout:v}}},249:function(e,n,t){"use strict";t.r(n);var r=t(5893),o=t(7294),u=t(8470);n.default=function(){var e=(0,u.Z)().logout;return(0,o.useEffect)((function(){e().then((function(){return location.href="/login"}))})),(0,r.jsx)("p",{children:"logging out..."})}}},function(e){e.O(0,[774,888,179],(function(){return n=4803,e(e.s=n);var n}));var n=e.O();_N_E=n}]);