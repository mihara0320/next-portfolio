(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(1084)}])},5920:function(e,n,r){"use strict";r.d(n,{Z:function(){return p}});var t=r(4051),o=r.n(t),u=r(2804),a=r(4255);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function l(e,n,r,t,o,u,a){try{var i=e[u](a),l=i.value}catch(c){return void r(c)}i.done?n(l):Promise.resolve(l).then(t,o)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var u=e.apply(n,r);function a(e){l(u,t,o,a,i,"next",e)}function i(e){l(u,t,o,a,i,"throw",e)}a(void 0)}))}}function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){s(e,n,r[n])}))}return e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,u=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(u.push(t.value),!n||u.length!==n);a=!0);}catch(l){i=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return u}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return i(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=(0,u.cn)({key:"common-auth",default:{user:null,token:null}});function p(){var e=(0,a.Z)().request,n=v((0,u.FV)(d),2),r=n[0],t=n[1];function i(){return(i=c(o().mark((function e(){var n,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=1,r=JSON.parse(window.localStorage.getItem("token")||"{}"),n=r.token||null,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),window.localStorage.removeItem("token"),e.abrupt("return",null);case 10:if(n&&n.accessToken){e.next=12;break}return e.abrupt("return",null);case 12:return e.prev=12,t={name:"John Wick",email:"johnwick@example.com"},e.abrupt("return",{user:f({},t),token:n});case 17:e.prev=17,e.t1=e.catch(12),window.localStorage.removeItem("token");case 20:case"end":return e.stop()}}),e,null,[[1,6],[12,17]])})))).apply(this,arguments)}var l=function(){var n=c(o().mark((function n(r,t){var u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({url:"/login",method:"POST",params:{email:r,password:t}});case 2:u={accessToken:"some secure token",tokenType:"Bearer",client:"eeffgghh",expiry:"9999999999",uid:"1234-1234-1234-1234"},window.localStorage.setItem("token",JSON.stringify({token:u}));case 4:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),s=function(){var e=c(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("token"),t((function(e){return f({},e,{user:null,token:null})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{user:r.user,getLoginUser:function(){return i.apply(this,arguments)},login:l,logout:s}}},1084:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return N}});var t=r(5893),o=r(4051),u=r.n(o),a=r(7294),i=r(2705),l=r.n(i),c=r(5115),s=r(7226),f=r(4612),v=r(5113),d=r(917);var p=function(e){var n=e.form,r=e.name,t=e.type,o=e.render,u=e.value,a={type:t,name:r,value:u,onChange:function(e){n.onChange(r,e)}};return"checkbox"===t?(a.isChecked=!!n.values[r],"boolean"!==typeof n.values[r]&&(a.isChecked=n.values[r]===u),a.onChange=function(e){n.onChange(r,e.target.checked)}):"radio"===t?(a.isChecked=n.values[r]===u,a.onChange=function(){return n.onChange(r,u)}):"text"===t||"select"===t?(a.value="undefined"===typeof n.values[r]||null===n.values[r]?"":String(n.values[r]),a.onChange=function(e){n.onChange(r,e.target.value)}):(a.value=n.values[r],a.onChange=function(e){n.onChange(r,e)}),o(a)},b=r(8446),h=r.n(b),m=r(3279),y=r.n(m);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function x(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function w(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){x(e,n,r[n])}))}return e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,u=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(u.push(t.value),!n||u.length!==n);a=!0);}catch(l){i=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return u}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return g(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){var n,r,t,o=(null===(n=e.context)||void 0===n?void 0:n.key)||"";if("string.regex.base"===e.type&&(o.startsWith("phone")||o.startsWith("fax")))return"".concat(null===(t=e.context)||void 0===t?void 0:t.label,"\u3092\u534a\u89d2\u6570\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");switch(e.type){case"any.empty":var u;r="".concat(null===(u=e.context)||void 0===u?void 0:u.label,"\u306f\u5fc5\u9808\u3067\u3059");break;case"any.required":var a;r="".concat(null===(a=e.context)||void 0===a?void 0:a.label,"\u306f\u5fc5\u9808\u3067\u3059");break;case"string.min":var i,l;r="".concat(null===(i=e.context)||void 0===i?void 0:i.label,"\u3092").concat(null===(l=e.context)||void 0===l?void 0:l.limit,"\u6587\u5b57\u4ee5\u4e0a\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"string.max":var c,s;r="".concat(null===(c=e.context)||void 0===c?void 0:c.label,"\u306f\u6700\u5927").concat(null===(s=e.context)||void 0===s?void 0:s.limit,"\u6587\u5b57\u307e\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"string.uri":var f;r="".concat(null===(f=e.context)||void 0===f?void 0:f.label,"\u306fURL\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"string.email":var v;r="".concat(null===(v=e.context)||void 0===v?void 0:v.label,"\u306f\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059");break;case"number.base":var d;r="".concat(null===(d=e.context)||void 0===d?void 0:d.label,"\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"number.min":var p,b;r="".concat(null===(p=e.context)||void 0===p?void 0:p.label,"\u3092").concat(null===(b=e.context)||void 0===b?void 0:b.limit,"\u4ee5\u4e0a\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;case"number.max":var h,m;r="".concat(null===(h=e.context)||void 0===h?void 0:h.label,"\u306f").concat(null===(m=e.context)||void 0===m?void 0:m.limit,"\u307e\u3067\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");break;default:var y;r="".concat(null===(y=e.context)||void 0===y?void 0:y.label,"\u306f\u7121\u52b9\u306a\u5024\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u3059")}return r},j=r(5920);function S(e,n,r,t,o,u,a){try{var i=e[u](a),l=i.value}catch(c){return void r(c)}i.done?n(l):Promise.resolve(l).then(t,o)}function E(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function C(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){E(e,n,r[n])}))}return e}function I(){var e,n,r=(e=["\n  padding-top: 25vh;\n\n  .title {\n    font-weight: bold;\n    font-size: 24px;\n    line-height: 18px;\n  }\n\n  .password-reset-link {\n    font-size: 16px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return I=function(){return r},r}var P=l().object({email:l().string().email({tlds:{allow:!1}}).required().label("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),password:l().string().required().label("\u30d1\u30b9\u30ef\u30fc\u30c9")}),T=function(){var e,n,r,o,i,l,d=function(e){var n=e.schema,r=e.options,t=void 0===r?{returnErrorOnTouched:!0}:r,o=a.useRef(),u=k(a.useState(w({returnErrorOnTouched:!0},t)),2),i=u[0],l=u[1],c=k(a.useState({}),2),s=c[0],f=c[1],v=k(a.useState({}),2),d=v[0],p=v[1],b=k(a.useState(),2),m=b[0],g=b[1],j=k(a.useState({values:{},errors:null}),2),S=j[0],E=j[1],C=a.useCallback((function(){if(!n)return E({values:s,errors:null}),{errors:null,values:s};var e=null,r=n.validate(s,{abortEarly:!1,allowUnknown:!0,convert:!0}),t=r.error,o=r.value;return t&&(e={},null===t||void 0===t||t.details.forEach((function(n){var r,t,u=!o[(null===n||void 0===n||null===(r=n.context)||void 0===r?void 0:r.key)||""],a=n.path[0];(!i.returnErrorOnTouched||i.returnErrorOnTouched&&!0===d[a])&&e&&(e[a]={message:u?"".concat(null===(t=n.context)||void 0===t?void 0:t.label,"\u306f\u5fc5\u9808\u3067\u3059"):O(n),type:n.type})}))),E({values:o,errors:e||null}),{errors:e,values:o}}),[s,n,d,i.returnErrorOnTouched]),I=a.useCallback((function(e){l((function(n){return w({},n,e)}))}),[l]),P=a.useRef(y()(C,500));a.useEffect((function(){P.current=y()(C,500)}),[C]),a.useEffect((function(){C()}),[i.returnErrorOnTouched]),a.useEffect((function(){l((function(e){return w({},e,t)}))}),[JSON.stringify(t)]),a.useEffect((function(){n&&(!0!==o.current?(C(),o.current=!0):P.current())}),[C,n,s]);var T=a.useCallback((function(e){o.current=!1,f((function(n){return w({},n,e)}))}),[]),A=a.useCallback((function(){o.current=!1,p({}),f(m)}),[m]),N=a.useCallback((function(e,n){p((function(n){return w({},n,x({},e,!0))})),f(w({},s,x({},e,n)))}),[s]),_=a.useMemo((function(){return!(!m||!s)&&!h()(m,s)}),[m,s]),J=a.useMemo((function(){return!S.errors}),[S.errors]);return{onChange:N,setInitialValues:function(e){o.current=!1,g(w({},e)),f(w({},e))},setOptions:I,reset:A,updateValues:T,validate:C,values:s,validatedValues:S.values,errors:S.errors,touched:d,isDirty:_,isValid:J}}({schema:P}),b=(0,j.Z)().login;a.useEffect((function(){d.setInitialValues({email:"",password:""})}),[]);var m=function(){var e,n=(e=u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.validate(),r=n.values,!n.errors){e.next=4;break}return d.setOptions({returnErrorOnTouched:!1}),e.abrupt("return");case 4:return e.next=6,b(r.email,r.password);case 6:return location.href="/",e.abrupt("return");case 8:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,o){var u=e.apply(n,r);function a(e){S(u,t,o,a,i,"next",e)}function i(e){S(u,t,o,a,i,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,t.jsxs)(c.W2,{css:A,children:[(0,t.jsx)(c.xu,{mb:8,children:(0,t.jsx)(c.M5,{children:(0,t.jsx)("h2",{className:"title",children:" LOGIN PAGE "})})}),(0,t.jsxs)(c.xu,{border:"1px solid",borderRadius:5,p:4,children:[(0,t.jsx)(c.xu,{mb:4,children:(0,t.jsxs)(s.NI,{isInvalid:!!(null===(e=d.errors)||void 0===e?void 0:e.email),children:[(0,t.jsx)(s.lX,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,t.jsx)(p,{form:d,name:"email",type:"text",render:function(e){return(0,t.jsx)(f.II,C({},e))}}),(0,t.jsx)(s.J1,{children:null===(n=d.errors)||void 0===n||null===(r=n.email)||void 0===r?void 0:r.message})]})}),(0,t.jsx)(c.xu,{mb:4,children:(0,t.jsxs)(s.NI,{isInvalid:!!(null===(o=d.errors)||void 0===o?void 0:o.password),children:[(0,t.jsx)(s.lX,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),(0,t.jsx)(p,{form:d,name:"password",type:"text",render:function(e){return(0,t.jsx)(f.II,C({},e,{type:"password"}))}}),(0,t.jsx)(s.J1,{children:null===(i=d.errors)||void 0===i||null===(l=i.password)||void 0===l?void 0:l.message})]})}),(0,t.jsx)(c.M5,{children:(0,t.jsx)(v.zx,{onClick:m,isFullWidth:!0,children:"Login"})})]})]})},A=(0,d.iv)(I()),N=function(){return(0,t.jsx)(T,{})}}},function(e){e.O(0,[375,964,774,888,179],(function(){return n=3236,e(e.s=n);var n}));var n=e.O();_N_E=n}]);